构建网络:
    原材料:多台主机，DNS服务器，DHCP服务器，多个交换机，路由器，一堆线。
    说明:
        0.每个主机至少有一个网卡，网卡需要配置网关，DNS，IP，MAC等，主机需要维护路由表。MAC是主机网卡的物理地址。
        1.交换机需要维护MAC表(用与交换机内各个端口传输数据，其中端口与MAC地址绑定)。交换机在数据链路层通过MAC表连接各个端口。
        2.当两个主机不在一个交换机时，通信需要通过网络层。主机通过查询自身路由表(算法更新)，获取到下一跳的ip地址。在数据链路层与网络层直接通过ARP缓存表可以查到ip对应的MAC地址，而MAC地址又可以给数据链路层传输。实现跨网通信。
        3.不同网段直接通信，可以通过网关，网关是一个逻辑概念，只要配置了网关地址，接通了网络。网卡就会帮你去实现。
        4.所有表(MAC，路由表，ARP缓存表)最初都是通过广播获取对应信息，广播操作容易被攻击。例如:局域网ARP攻击。
    过程:
        1.多台主机连接到交换机，交换机与交换机相互连接，交换机内部维护一张MAC表(mac=>交换机端口)。
        2.DHCP服务器，DNS服务器连接到交换机。DHCP为主机分配动态ip，DNS将域名转化为IP。
        3.主机要向DHCP获取IP:主机广播，通过交换机发送到所有设备，DHCP接收到信息，发送一个IP给主机，主机返回确认信息给DHCP。
        4.主机获取ip后配置网卡信息，网关(用于与其他网络交互，通过网关可以发送信息到其他网络)，DNS(域名服务器)，IP(ip地址)，MAC(网卡唯一标识)，子网掩码(确认网络段)
        5.主机之间进行通信:主机A查询自身路由表(路由表会根据目的ip获取下一跳的ip)，ip通过ARP缓存获取对应MAC地址。交换机一般读取帧头部6字节获取到MAC地址确认端口。

    ip:
      1.ip由32位组成分为网络号+主机号，根据网络号与主机号位数又划分为A,B,C类地址等，后来ip再进行细化多了子网掩码。
      2.在在在后来又不够了，抽出部分网络号做为内网ip(192.168.x.x，10.0.x.x，172.x.x.x)。其中外网是属于全球唯一的，内网ip不允许出现在外网，在不同的局域网内，内网ip允许重复。内网ip通过nat技术访问外网ip，nat也有一张表。假设内网ip为192.168.1.101(设定网关为外网ip)，外网ip为49.234.194.213。当内网要访问其他外网ip(49.234.194.212)时，通过49.234.194.213的ip去访问。nat表 192.168.1.101:6666 -> 49.234.194.213:16666。通过映射内网就可以通过外网去访问其他外网啦。

   vm:
    vm四种网络模式:NAT，Bridged，Internal，Host_only
    1.NAT(网络地址转换):虚拟机能通过主机去访问主机所能访问的其他主机(外网跟内网)，单向访问。外部不能向内访问。(虚拟机之间无法访问，因为主机访问不了虚拟机，虚拟机无法通过主机访问其他虚拟机)['可以做端口映射，将数据转发到虚拟机']
    2.Bridged:这个模式下任意电脑[主机、虚拟机、其他主机、虚拟机之间]可以相互访问，桥接模式。
    3.Internal:同一个内网的虚拟机可以访问。其他访问都不行。
    4.Host_only:默认Internal，通过配置可以实现Bridged。
    5.https://www.cnblogs.com/jpfss/p/8616613.html

建立集群：
    首先建立网络，网络模式一般有NAT(可以做端口映射)。虚拟主机可以共用一个网卡。
    假设内网一台主机使用NAT(内网其他主机可以通过他代理访问外网，而他可以提供部门端口供给外网使用)，与Internal模式。其余主机都使用(Internal模式，并且)


