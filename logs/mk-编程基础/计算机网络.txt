计算机网络(包含软件和硬件)
  分类:
    作用范围(广域网、城域网、局域网)
    使用范围(公用网络、专业网络)
  发家史:
    单个网络(多个主机连接交换机)-三级结构互联网(主干网-地区网-校园网)-多层次ISP(网络服务器提供商)(主干ISP-地区ISP-地区ISP等)
      各个国家是通过海底电缆连接通信的。
  层次结构:设计原则，各层相互独立。IOS七层、TCP/IP四层。
  性能指标:略
物理层:
  作用:连接不同的物理设备，传输比特率。(双绞线、光纤、红外线、无线)
  信道:是一个逻辑概念，是往一个方向传送信息的媒体。一个通信电路包含一个接受和发生信道(单工通信信道、半双工通信信道、全双工通信信道)
    单工信道:单方面通信、有线电视、无线电收音机。
    全双工通信:双发都可以同时发送和接受信息。
  分用-复用技术(有多种技术可实现):
    两个主机通信，建立一个信道，多个主机通信，建立(组合个)信道，信道利用率低。
    通过交换机与交换机建立信道，提高信道利用率。
    当多个主机通过交互机A与交互机B内的多个主机通信时，会涉及到分用-复用的技术(交互机如何区分不同主机、合并不同主机信息?)
数据链路层(管理相邻节点之间的数据通信):
  封装成帧:'帧'是数据链路层的基本单位。给ip数据包添加帧头部和帧尾部(实质是一段数字，由于ip数据包可能存在相同的数字段，使用透明传输)。
  透明传输:假设ip数据包存在相同的帧头或帧尾，使用转义帧处理。类似编程的(\)，使得传输正确。
  差错监测:
    物理层只管传输比特流(物理层基本单位)，无法控制是否出错。
    奇偶校验码：
      例1：01010(和为2偶数)，在末尾添加一个0。010100监测时(去掉最后一位，加和为偶数，在判断尾部是否为0)
      例2：11010(和为3奇数)，在末尾添加一个1。110101监测时(去掉最后一位，加和为奇数，在判断尾部是否为1)
      缺点:多个比特错误时无法监测。
    循环冗余校验码(CRC):
      过程类似上面，百度吧。
  MTU(最大传输单元MTC，数据链路层有最大传输单元，以太网MTU一般为1500B)
  路径MTU(传输经过多个网络，两个网络之间有一个MTU，最所有MTU的最小值(木桶效应))
  以太网协议详解:
    同一个局域网内的多个主机连接交换机?主机A是如何其他主机通信。
    MAC(物理地址、硬件地址，每一个设备的唯一标识，长度为48位。30-B4-9E-ED-85-CA。6个字节，每个字节由16表示)
    以太网是数据链路层协议，用于相邻设备的数据帧传输。
      将数据帧分为五部门:目的地址(6)+源地址(6)+类型(2)+帧数据+CRC(4)
      MAC地址表(将MAC地址表映射到对应端口)
      交换机通过维护MAC地址表，便于交换机上多个主机通信。主机A通过网卡发送数据帧到路由器，
      路由器取出前6字节，匹配路由表找到对应端口发送数据。若无匹配，则进行广播确认并记录。
      用于相邻设备的数据帧传输：A,B,路由F,连接到路由C。D,E连接到路由F。A只能与B或F通信，要与D通信还需要ip地址。
网络层(数据路由，决定数据在网络的路径)
  ip协议详解:虚拟互连网络(忽略实际网络连接，只关注ip协议，解决虚拟网络中数据报传输路径的问题)、IP协议。
  IP地址:(4个字节32位:192.168.1.1，使用10进制)，对于主机，MAC地址不变，随着局域网的改变而改变。
  帧的数据=IP数据报=IP首部+IP数据包。IP首部(32位(4字节)*5行=20字节)，当IP长度大于MTU时，数据链路层对IP数据进行拆分。
  IP协议的转发流程:(逐跳)，路由器记录MAC(MAC:网络端口)(用于相邻节点的通信)，记录路由表(目的IP:下一跳的IP地址)(用于下一个路由的地址)
    A,B,路由F,连接到路由C。D,E连接到路由F。假设A与D通信，A先查找路由表，获取下一跳F，告诉A，F的MAC地址。F查找路由表，获取下一跳D，告诉F，D的MAC地址。D查找路由表后发送给C。
  ARP与RARP协议：ARP地址解析协议，在APR缓存表中将IP映射到MAC；在同一个局域网如果在ARP缓存中查询不到IP对应MAC，ARP就进行广播获取IP对应的MAC地址并记录。
  IP地址子网划分：32位=网络位+主机类
    A类地址:8位网络位(以0开头) + 24位主机位    共有2**7=0~127-2个网络，每个网络有2**24-2个主机
    B类地址:16位网络位(以10开头) + 16位主机位  共有2**(16-2)-1个网络，每个网络有2**16-2个主机
    C类地址:24位网络位(以110开头) + 8位主机位  共有2**(24-3)-1个网络，每个网络有2**8-2个主机
    D类地址:略   E类地址:略
    特殊主机号: 主机号全为0表示当前网络段，不可分配；主机号全为1表示广播地址，向当前网络段所有主机发送信息。
    127.0.0.1为本地回环地址。 网络号全为0表示特殊网络号不可使用。
  IP数据报 = IP头部(20~60字节) + ip数据包，其中IP头部需要注意一个TTL(数据包在网络跳转的次数)与数据包是采用哪种协议。
  由于IP地址有限，要充分利用，IP地址=网络位 + 子网位 + 主机位。通过子网掩码划分子网(子网掩码也是32位，由01组成)。
  假设193.10.10.129,子网掩码位255.255.255.128；两个32位做异或运算等到网络号为193.10.10.128
  网络地址转换(NAT)：
    外网地址(全球使用，数量有限)，产生内网地址(内部使用，常见的内网地址有10.0.0.0~10.255.255.255、172.16.0.0~172.31.255.255、192.168.0.0~192.168.255.255)
    内网在不同局域网内重复，所有在外网无法访问。
    NAT技术用于多个主机通过一个公有IP访问互联网的私有网络。
    NAT表,ip+端口的映射
      192.168.2.11:6666 <=> 173.21.59.10:16666
      192.168.2.10:7777 <=> 173.21.59.10:17777
      当内网主机发起请求时，会先建立本地端口发送到路由器，路由器通过nat建立新的端口在访问外部应用。
      当内网多个主机访问同一个外部应用时，由于端口不同，被认为不同的会话。外网如果要访问内网也需要通过路由器，使用nat反向映射内网端口即可。
  ICMP协议:网络控制报文协议(辅助IP协议，可以了解IP数据包在网络的请求路径)(traceroute应用)
    ICMP封装在ip数据包中，在ip头部会标明是icmp协议。traceroute通过ttl获取A~B的路径。

传输层
  UDP用户数据报协议，数据报不会拆分。应用层传多少数据，UDP都会直接传给网络层。
  UDP是无连接，不可靠传输，轻量级。面向报文传输(不处理应用层传输的报文)。
  TCP(传输控制协议)，面向连接，可靠，全双工。面向字节流(将应用层传入的数据看做字节流，对字节流进行处理(拆分))
  TCP头部信息很多，20字节。
  可靠传输的基本原理:
    停止等待协议:
      1.发送方发送消息，接收方接收消息后回发确认信息给发送方。
      2.发送方发送消息后，在等待一段时间未收到确认信息，会重新发送信息。(超时重传)
      3.接收方发送确认丢失，发送方未收到确认信息，也会进行超时重传。
      超时定时器:每发送一个信息，都需要设置一个定时器。
      缺点:单次发送一个消息，对信道利用率不高。
    连续ARQ(自动重传请求):
      1.由于单次发送一个消息，对信息利用率不高。
      2.所以一次发送多个(假设10个)数据。发送长度(10)看做一个可以滑动的窗口(滑动窗口，以字节为单位)。
      3.当接收到某个确认消息后，认为窗口应答的字节前面以收到，窗口向后滑动。
    选择重传:略
  TCP-流量控制:接收方通过告诉发送方可接受的滑动窗口数量，控制发送发送速率(太快可能会阻塞)。
    坚持定时器:当接收方告诉发送方没有窗口时，发送方会定时发送一个字节去测试接收方什么时候有宽口可用。
    流量控制考虑的是点对点的通信量控制。
  TCP-拥塞控制:
    如果发送的报文超时则认为网络拥塞。
    拥塞控制考虑整个网络，是全局性考虑。
    慢启动算法、拥塞避免算法。
  TCP连接(三次握手):(ack(确认位),syn(同步位，表示连接),fin(结束位))
    三次握手是为了避免多次连接，假设发送方因为超时发送了两次连接，接收方回复两次连接，发送方在确认一条连接。
  TCP连接释放(四次挥手):略
应用层
  传输层为其提供完整服务，常见协议有DNS,DHCP,HTTP,SMTP等。
    DNS(域名解析，将domain解析为对应IP地址，域名有利于记忆。可分为顶级域名、二级域名等，基于UDP)
    DHCP(局域网协议，动态为主机分配局域网的IP，基于UDP)
    HTTP(超文本传输协议，web服务。)(Web缓存，Web代理，CDN)
    HTTPS(加密的HTTP,在HTTP外层添加SSL,通过加密方式(非对称、对称)，证书等保证安全)
网卡:有两种工作方式(混杂模式，接受所有经过网卡设备的数据，广播)(非混杂模式，只接收目的地址指向自己的数据)
